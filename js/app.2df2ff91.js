(function(){"use strict";var e={5151:function(e,o,n){n.d(o,{h:function(){return no}});var t=n(9242),a=n(3396);function i(e,o){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var l=n(89);const r={},s=(0,l.Z)(r,[["render",i]]);var c=s,u=n(2483),d=n.p+"img/gen.9386d74c.jpg";const p=e=>((0,a.dD)("data-v-c1b7a9d6"),e=e(),(0,a.Cn)(),e),g=p((()=>(0,a._)("img",{src:d,alt:"Gennadi"},null,-1)));function m(e,o,n,t,i,l){const r=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),g,(0,a.Wm)(s)],64)}const v={id:"headerbar"};function f(e,o,n,t,i,l){const r=(0,a.up)("HeaderLogo"),s=(0,a.up)("LinksBar");return(0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(r),(0,a.Wm)(s)])}n(560);function h(e,o,n,t,i,l){return(0,a.wg)(),(0,a.iD)("span",{id:"logo",onClick:o[0]||(o[0]=o=>e.$router.push("/"))},"Ельцов Геннадий")}var b={name:"HeaderLogo"};const _=(0,l.Z)(b,[["render",h]]);var w=_;const y=e=>((0,a.dD)("data-v-d1ed7fce"),e=e(),(0,a.Cn)(),e),k={id:"linksbar"},D=y((()=>(0,a._)("p",null,"Галерея",-1))),O=[D],F={key:0},H=y((()=>(0,a._)("li",null,"Элемент 1",-1))),L=y((()=>(0,a._)("li",null,"Элемент 2",-1))),I=y((()=>(0,a._)("li",null,"Элемент 3",-1))),C=[H,L,I],G=y((()=>(0,a._)("p",null,"Биография",-1))),B=[G],V=y((()=>(0,a._)("p",null,"Статьи",-1))),W=[V],j=y((()=>(0,a._)("p",null,"Выйти",-1))),P=[j];function Z(e,o,n,t,i,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",k,[(0,a._)("div",{class:"link",onClick:o[0]||(o[0]=(...e)=>l.showGallery&&l.showGallery(...e))},O),i.isGalleryVisible?((0,a.wg)(),(0,a.iD)("ul",F,C)):(0,a.kq)("",!0)]),(0,a._)("div",{class:"link",onClick:o[1]||(o[1]=o=>e.$router.push("/bio"))},B),(0,a._)("div",{class:"link",onClick:o[2]||(o[2]=o=>e.$router.push("/publications"))},W),l.isLogged?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"link",onClick:o[3]||(o[3]=(...e)=>l.logOut&&l.logOut(...e))},P)):(0,a.kq)("",!0)],64)}var $=n(4690),U={name:"LinksBar",data(){return{isGalleryVisible:!1,activeLink:null}},computed:{isLogged(){return this.$store.getters.isLogged}},methods:{logIn(){this.$router.push("/login")},showGallery(){this.isGalleryVisible=!0},hideGallery(){this.isGalleryVisible=!1},async logOut(){const e=(0,$.v0)();console.log(e),await e.signOut(),this.$store.dispatch("logOut"),this.$router.push("/")},handleClick(e){this.activeLink=e}}};const Y=(0,l.Z)(U,[["render",Z],["__scopeId","data-v-d1ed7fce"]]);var M=Y,T={name:"HeaderBar",components:{HeaderLogo:w,LinksBar:M}};const q=(0,l.Z)(T,[["render",f],["__scopeId","data-v-7683c251"]]);var x=q;const K={id:"footer"},N=(0,a.Uk)(" 2023 Геннадий Ельцов");function z(e,o,n,t,i,l){return(0,a.wg)(),(0,a.iD)("div",K,[(0,a._)("p",null,[(0,a._)("span",{onClick:o[0]||(o[0]=(...e)=>l.moveToLogin&&l.moveToLogin(...e))},"©"),N])])}var E={name:"PageFooter",components:{},methods:{moveToLogin(){this.$router.push("/login")}}};const S=(0,l.Z)(E,[["render",z]]);var A=S,J={name:"HomeView",components:{HeaderBar:x,PageFooter:A}};const R=(0,l.Z)(J,[["render",m],["__scopeId","data-v-c1b7a9d6"]]);var Q=R;function X(e,o,n,t,i,l){const r=(0,a.up)("HeaderBar"),s=(0,a.up)("LoginForm"),c=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(s),(0,a.Wm)(c)],64)}const ee=e=>((0,a.dD)("data-v-e5cd652a"),e=e(),(0,a.Cn)(),e),oe={class:"login-form"},ne=ee((()=>(0,a._)("h2",null,"Вход",-1))),te={class:"form-group"},ae=ee((()=>(0,a._)("label",{for:"email"},"Email:",-1))),ie={class:"form-group"},le=ee((()=>(0,a._)("label",{for:"password"},"Пароль:",-1))),re=ee((()=>(0,a._)("div",{class:"form-group"},[(0,a._)("button",{type:"submit"},"Войти")],-1)));function se(e,o,n,i,l,r){return(0,a.wg)(),(0,a.iD)("div",oe,[(0,a._)("form",{onSubmit:o[2]||(o[2]=(0,t.iM)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[ne,(0,a._)("div",te,[ae,(0,a.wy)((0,a._)("input",{type:"email",id:"email",name:"email",autocomplete:"email","onUpdate:modelValue":o[0]||(o[0]=e=>l.email=e),required:""},null,512),[[t.nr,l.email]])]),(0,a._)("div",ie,[le,(0,a.wy)((0,a._)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":o[1]||(o[1]=e=>l.password=e),required:""},null,512),[[t.nr,l.password]])]),re],32)])}var ce={name:"LoginForm",data(){return{email:"",password:""}},methods:{login(){const e=(0,$.v0)();(0,$.e5)(e,this.email,this.password).then((e=>{this.$store.dispatch("logIn");const o=e.user;console.log(o),this.$router.replace("/")})).catch((e=>{const o=e.code;console.log(o);const n=e.message;console.log(n)}))}}};const ue=(0,l.Z)(ce,[["render",se],["__scopeId","data-v-e5cd652a"]]);var de=ue,pe={name:"LoginView",components:{HeaderBar:x,PageFooter:A,LoginForm:de}};const ge=(0,l.Z)(pe,[["render",X]]);var me=ge;function ve(e,o,n,t,i,l){const r=(0,a.up)("HeaderBar"),s=(0,a.up)("Gallery"),c=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(s),(0,a.Wm)(c)],64)}var fe=n(7139);const he={key:0},be=(0,a._)("label",{for:"avatar"},"Выбери фотографию:",-1),_e={type:"file",id:"avatar",name:"avatar",accept:"image/*",ref:"file"},we=(0,a._)("label",{for:"option1"},"Рисунок",-1),ye=(0,a._)("label",{for:"option2"},"Живопись",-1),ke=(0,a._)("label",{for:"option3"},"Смешанная техника",-1),De=(0,a._)("label",{for:"option3"},"Графика",-1),Oe=(0,a._)("label",{for:"option3"},"Акварель",-1),Fe={type:"text",ref:"caption",placeholder:"Описание"},He=(0,a._)("button",{type:"submit"},"Загрузить Фото!",-1),Le={class:"gallery-links"},Ie={class:"gallery-container"},Ce=["onClick"],Ge=["src"],Be={key:0,class:"modal"},Ve={class:"modal-content"},We=["src"];function je(e,o,n,i,l,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[r.isLogged?((0,a.wg)(),(0,a.iD)("div",he,[(0,a._)("form",{onSubmit:o[5]||(o[5]=(0,t.iM)(((...e)=>r.submitFile&&r.submitFile(...e)),["prevent"])),class:"upload-form"},[be,(0,a._)("input",_e,null,512),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"option1","onUpdate:modelValue":o[0]||(o[0]=e=>l.selectedOption=e),value:"Рисунок"},null,512),[[t.G2,l.selectedOption]]),we,(0,a.wy)((0,a._)("input",{type:"radio",id:"option2","onUpdate:modelValue":o[1]||(o[1]=e=>l.selectedOption=e),value:"Живопись"},null,512),[[t.G2,l.selectedOption]]),ye,(0,a.wy)((0,a._)("input",{type:"radio",id:"option3","onUpdate:modelValue":o[2]||(o[2]=e=>l.selectedOption=e),value:"Смешанная техника"},null,512),[[t.G2,l.selectedOption]]),ke,(0,a.wy)((0,a._)("input",{type:"radio",id:"option4","onUpdate:modelValue":o[3]||(o[3]=e=>l.selectedOption=e),value:"Графика"},null,512),[[t.G2,l.selectedOption]]),De,(0,a.wy)((0,a._)("input",{type:"radio",id:"option5","onUpdate:modelValue":o[4]||(o[4]=e=>l.selectedOption=e),value:"Акварель"},null,512),[[t.G2,l.selectedOption]]),Oe,(0,a._)("p",null,"Выбрана опция: "+(0,fe.zw)(l.selectedOption),1)]),(0,a._)("input",Fe,null,512),He],32)])):(0,a.kq)("",!0),(0,a._)("div",Le,[(0,a._)("div",{class:"link",onClick:o[6]||(o[6]=e=>r.readDataFromDb("Рисунок"))},"Рисунок"),(0,a._)("div",{class:"link",onClick:o[7]||(o[7]=e=>r.readDataFromDb("Живопись"))},"Живопись"),(0,a._)("div",{class:"link",onClick:o[8]||(o[8]=e=>r.readDataFromDb("Смешанная техника"))},"Смешанная техника"),(0,a._)("div",{class:"link",onClick:o[9]||(o[9]=e=>r.readDataFromDb("Графика"))},"Графика"),(0,a._)("div",{class:"link",onClick:o[10]||(o[10]=e=>r.readDataFromDb("Акварель"))},"Акварель")]),(0,a._)("div",Ie,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.images,((e,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"thumbnail",key:o,onClick:o=>r.openImage(e.path)},[(0,a._)("img",{src:e.path,alt:"Image",class:"thumbnail-image"},null,8,Ge),(0,a._)("p",null,(0,fe.zw)(e.caption),1)],8,Ce)))),128)),l.selectedImage?((0,a.wg)(),(0,a.iD)("div",Be,[(0,a._)("div",Ve,[(0,a._)("span",{class:"close",onClick:o[11]||(o[11]=(...e)=>r.closeModal&&r.closeModal(...e))},"×"),(0,a._)("img",{src:l.selectedImage.path,alt:"Full-size Image"},null,8,We)])])):(0,a.kq)("",!0)])],64)}var Pe=n(1294),Ze=n(7130),$e={name:"GalleryBody",data(){return{selectedOption:null,images:[],selectedImage:null}},computed:{isLogged(){return this.$store.getters.isLogged}},methods:{readDataFromDb(e){this.images=[];const o=(0,Ze.N8)(),n=(0,Ze.iH)(o,"picData/"+e);(0,Ze.jM)(n,(e=>{const o=e.val();if(o){const e=Object.values(o);this.images=e}}))},openImage(e){this.selectedImage={path:e}},closeModal(){this.selectedImage=null},async submitFile(){const e=this.$refs.file,o=this.$refs.caption.value,n=e.files[0];if(n){const e=(0,Pe.cF)(),a=(0,Pe.iH)(e,"gallery/"+this.selectedOption+"/"+n.name);try{const e=await(0,Pe.KV)(a,n),t=await(0,Pe.Jt)(e.ref);this.images.push({path:t,caption:o});const i=(0,Ze.N8)(),l=(0,Ze.iH)(i,"picData/"+this.selectedOption),r=(0,Ze.VF)(l);console.log(o),(0,Ze.t8)(r,{path:t,caption:o}),console.log("File uploaded successfully!")}catch(t){console.error("Error uploading file:",t)}}}}};const Ue=(0,l.Z)($e,[["render",je]]);var Ye=Ue,Me={name:"GalleryView",components:{HeaderBar:x,PageFooter:A,Gallery:Ye}};const Te=(0,l.Z)(Me,[["render",ve]]);var qe=Te;function xe(e,o,n,t,i,l){const r=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(s)],64)}var Ke={name:"PublicationsView",components:{HeaderBar:x,PageFooter:A}};const Ne=(0,l.Z)(Ke,[["render",xe]]);var ze=Ne;function Ee(e,o,n,t,i,l){const r=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(s)],64)}var Se={name:"BioView",components:{HeaderBar:x,PageFooter:A}};const Ae=(0,l.Z)(Se,[["render",Ee]]);var Je=Ae;const Re=[{path:"/",name:"home",component:Q},{path:"/login",name:"login",component:me},{path:"/gallery",name:"gallery",component:qe},{path:"/publications",name:"publications",component:ze},{path:"/bio",name:"bio",component:Je}],Qe=(0,u.p7)({history:(0,u.r5)(),routes:Re});Qe.beforeEach((function(){const e=(0,$.v0)();(0,$.Aj)(e,(e=>{e?(console.log("IN"),console.log(e.email),no.dispatch("logIn")):(console.log("OUT"),no.dispatch("logOut"))}))}));var Xe=Qe,eo=n(65),oo=n(7795);const no=(0,eo.MT)({state(){return{isLogged:!1}},mutations:{login(e){e.isLogged=!0},logout(e){e.isLogged=!1}},getters:{isLogged(e){return e.isLogged}},actions:{logIn(e){e.commit("login")},logOut(e){e.commit("logout")}}}),to={apiKey:"AIzaSyAjdnYQIhHawLRWsFjyfvb28Nv3r65DeJ0",authDomain:"gennady-website.firebaseapp.com",databaseURL:"https://gennady-website-default-rtdb.europe-west1.firebasedatabase.app",projectId:"gennady-website",storageBucket:"gennady-website.appspot.com",messagingSenderId:"850191528241",appId:"1:850191528241:web:ede7443e5802f1432a8010",measurementId:"G-K0BNTHKX3D"};(0,oo.ZF)(to);const ao=(0,t.ri)(c);ao.use(Xe),ao.use(no),ao.mount("#app")}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(o,t,a,i){if(!t){var l=1/0;for(u=0;u<e.length;u++){t=e[u][0],a=e[u][1],i=e[u][2];for(var r=!0,s=0;s<t.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((function(e){return n.O[e](t[s])}))?t.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(u--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[t,a,i]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var a,i,l=t[0],r=t[1],s=t[2],c=0;if(l.some((function(o){return 0!==e[o]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(s)var u=s(n)}for(o&&o(t);c<l.length;c++)i=l[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},t=self["webpackChunkportfolio"]=self["webpackChunkportfolio"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(5151)}));t=n.O(t)})();
//# sourceMappingURL=app.2df2ff91.js.map