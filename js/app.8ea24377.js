(function(){"use strict";var e={5751:function(e,o,n){n.d(o,{h:function(){return Je}});var t=n(9242),a=n(3396);function i(e,o){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var r=n(89);const l={},s=(0,r.Z)(l,[["render",i]]);var c=s,u=n(2483),d=n.p+"img/db3d9be2aa47a14930d6c487c4e4c706.b86b366d.jpg";const p=(0,a._)("img",{src:d,alt:"2024"},null,-1);function g(e,o,n,t,i,r){const l=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),p,(0,a.Wm)(s)],64)}const m={id:"headerbar"};function v(e,o,n,t,i,r){const l=(0,a.up)("HeaderLogo"),s=(0,a.up)("LinksBar");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)(l),(0,a.Wm)(s)])}n(560);function f(e,o,n,t,i,r){return(0,a.wg)(),(0,a.iD)("span",{id:"logo",onClick:o[0]||(o[0]=o=>e.$router.push("/"))},"Ельцов Геннадий")}var h={name:"HeaderLogo"};const b=(0,r.Z)(h,[["render",f]]);var w=b;const y=e=>((0,a.dD)("data-v-2147eabd"),e=e(),(0,a.Cn)(),e),_={id:"linksbar"},k=y((()=>(0,a._)("p",null,"Биография",-1))),D=[k],O=y((()=>(0,a._)("p",null,"Статьи",-1))),F=[O],L=y((()=>(0,a._)("p",null,"Галерея",-1))),H=[L],I=y((()=>(0,a._)("p",null,"Выйти",-1))),C=[I];function B(e,o,n,t,i,r){return(0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",{class:"link",onClick:o[0]||(o[0]=o=>e.$router.push("/bio"))},D),(0,a._)("div",{class:"link",onClick:o[1]||(o[1]=o=>e.$router.push("/publications"))},F),(0,a._)("div",{class:"link",onClick:o[2]||(o[2]=o=>e.$router.push("/gallery"))},H),r.isLogged?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"link",onClick:o[3]||(o[3]=(...e)=>r.logOut&&r.logOut(...e))},C)):(0,a.kq)("",!0)])}var V=n(4690),G={name:"LinksBar",data(){return{isGalleryVisible:!1,activeLink:null}},computed:{isLogged(){return this.$store.getters.isLogged}},methods:{logIn(){this.$router.push("/login")},showGallery(){this.isGalleryVisible=!0},hideGallery(){this.isGalleryVisible=!1},async logOut(){const e=(0,V.v0)();console.log(e),await e.signOut(),this.$store.dispatch("logOut"),this.$router.push("/")},handleClick(e){this.activeLink=e}}};const W=(0,r.Z)(G,[["render",B],["__scopeId","data-v-2147eabd"]]);var j=W,P={name:"HeaderBar",components:{HeaderLogo:w,LinksBar:j}};const $=(0,r.Z)(P,[["render",v],["__scopeId","data-v-7683c251"]]);var Z=$;const U={id:"footer"},M=(0,a.Uk)(" 2023 Геннадий Ельцов");function T(e,o,n,t,i,r){return(0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("p",null,[(0,a._)("span",{onClick:o[0]||(o[0]=(...e)=>r.moveToLogin&&r.moveToLogin(...e))},"©"),M])])}var Y={name:"PageFooter",components:{},methods:{moveToLogin(){this.$router.push("/login")}}};const x=(0,r.Z)(Y,[["render",T]]);var q=x,K={name:"HomeView",components:{HeaderBar:Z,PageFooter:q}};const N=(0,r.Z)(K,[["render",g]]);var z=N;function E(e,o,n,t,i,r){const l=(0,a.up)("HeaderBar"),s=(0,a.up)("LoginForm"),c=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(s),(0,a.Wm)(c)],64)}const S=e=>((0,a.dD)("data-v-e5cd652a"),e=e(),(0,a.Cn)(),e),A={class:"login-form"},J=S((()=>(0,a._)("h2",null,"Вход",-1))),R={class:"form-group"},Q=S((()=>(0,a._)("label",{for:"email"},"Email:",-1))),X={class:"form-group"},ee=S((()=>(0,a._)("label",{for:"password"},"Пароль:",-1))),oe=S((()=>(0,a._)("div",{class:"form-group"},[(0,a._)("button",{type:"submit"},"Войти")],-1)));function ne(e,o,n,i,r,l){return(0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("form",{onSubmit:o[2]||(o[2]=(0,t.iM)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[J,(0,a._)("div",R,[Q,(0,a.wy)((0,a._)("input",{type:"email",id:"email",name:"email",autocomplete:"email","onUpdate:modelValue":o[0]||(o[0]=e=>r.email=e),required:""},null,512),[[t.nr,r.email]])]),(0,a._)("div",X,[ee,(0,a.wy)((0,a._)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":o[1]||(o[1]=e=>r.password=e),required:""},null,512),[[t.nr,r.password]])]),oe],32)])}var te={name:"LoginForm",data(){return{email:"",password:""}},methods:{login(){const e=(0,V.v0)();(0,V.e5)(e,this.email,this.password).then((e=>{this.$store.dispatch("logIn");const o=e.user;console.log(o),this.$router.replace("/")})).catch((e=>{const o=e.code;console.log(o);const n=e.message;console.log(n)}))}}};const ae=(0,r.Z)(te,[["render",ne],["__scopeId","data-v-e5cd652a"]]);var ie=ae,re={name:"LoginView",components:{HeaderBar:Z,PageFooter:q,LoginForm:ie}};const le=(0,r.Z)(re,[["render",E]]);var se=le;function ce(e,o,n,t,i,r){const l=(0,a.up)("HeaderBar"),s=(0,a.up)("Gallery"),c=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(s),(0,a.Wm)(c)],64)}var ue=n(7139);const de={key:0},pe=(0,a._)("label",{for:"avatar"},"Выбери фотографию:",-1),ge={type:"file",id:"avatar",name:"avatar",accept:"image/*",ref:"file"},me=(0,a._)("label",{for:"option1"},"Рисунок",-1),ve=(0,a._)("label",{for:"option2"},"Живопись",-1),fe=(0,a._)("label",{for:"option3"},"Смешанная техника",-1),he=(0,a._)("label",{for:"option3"},"Графика",-1),be=(0,a._)("label",{for:"option3"},"Акварель",-1),we={type:"text",ref:"caption",placeholder:"Описание"},ye=(0,a._)("button",{type:"submit"},"Загрузить Фото!",-1),_e={class:"gallery-links"},ke={class:"gallery-container"},De=["onClick"],Oe=["src"],Fe={key:0,class:"modal"},Le={class:"modal-content"},He=["src"];function Ie(e,o,n,i,r,l){return(0,a.wg)(),(0,a.iD)(a.HY,null,[l.isLogged?((0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("form",{onSubmit:o[5]||(o[5]=(0,t.iM)(((...e)=>l.submitFile&&l.submitFile(...e)),["prevent"])),class:"upload-form"},[pe,(0,a._)("input",ge,null,512),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"radio",id:"option1","onUpdate:modelValue":o[0]||(o[0]=e=>r.selectedOption=e),value:"Рисунок"},null,512),[[t.G2,r.selectedOption]]),me,(0,a.wy)((0,a._)("input",{type:"radio",id:"option2","onUpdate:modelValue":o[1]||(o[1]=e=>r.selectedOption=e),value:"Живопись"},null,512),[[t.G2,r.selectedOption]]),ve,(0,a.wy)((0,a._)("input",{type:"radio",id:"option3","onUpdate:modelValue":o[2]||(o[2]=e=>r.selectedOption=e),value:"Смешанная техника"},null,512),[[t.G2,r.selectedOption]]),fe,(0,a.wy)((0,a._)("input",{type:"radio",id:"option4","onUpdate:modelValue":o[3]||(o[3]=e=>r.selectedOption=e),value:"Графика"},null,512),[[t.G2,r.selectedOption]]),he,(0,a.wy)((0,a._)("input",{type:"radio",id:"option5","onUpdate:modelValue":o[4]||(o[4]=e=>r.selectedOption=e),value:"Акварель"},null,512),[[t.G2,r.selectedOption]]),be,(0,a._)("p",null,"Выбрана опция: "+(0,ue.zw)(r.selectedOption),1)]),(0,a._)("input",we,null,512),ye],32)])):(0,a.kq)("",!0),(0,a._)("div",_e,[(0,a._)("div",{class:"link",onClick:o[6]||(o[6]=e=>l.readDataFromDb("Рисунок"))},"Рисунок"),(0,a._)("div",{class:"link",onClick:o[7]||(o[7]=e=>l.readDataFromDb("Живопись"))},"Живопись"),(0,a._)("div",{class:"link",onClick:o[8]||(o[8]=e=>l.readDataFromDb("Смешанная техника"))},"Смешанная техника"),(0,a._)("div",{class:"link",onClick:o[9]||(o[9]=e=>l.readDataFromDb("Графика"))},"Графика"),(0,a._)("div",{class:"link",onClick:o[10]||(o[10]=e=>l.readDataFromDb("Акварель"))},"Акварель")]),(0,a._)("div",ke,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.images,((e,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"thumbnail",key:o,onClick:o=>l.openImage(e.path)},[(0,a._)("img",{src:e.path,alt:"Image",class:"thumbnail-image"},null,8,Oe),(0,a._)("p",null,(0,ue.zw)(e.caption),1)],8,De)))),128)),r.selectedImage?((0,a.wg)(),(0,a.iD)("div",Fe,[(0,a._)("div",Le,[(0,a._)("span",{class:"close",onClick:o[11]||(o[11]=(...e)=>l.closeModal&&l.closeModal(...e))},"×"),(0,a._)("img",{src:r.selectedImage.path,alt:"Full-size Image"},null,8,He)])])):(0,a.kq)("",!0)])],64)}var Ce=n(1294),Be=n(7130),Ve={name:"GalleryBody",data(){return{selectedOption:null,images:[],selectedImage:null}},computed:{isLogged(){return this.$store.getters.isLogged}},methods:{readDataFromDb(e){this.images=[];const o=(0,Be.N8)(),n=(0,Be.iH)(o,"picData/"+e);(0,Be.jM)(n,(e=>{const o=e.val();if(o){const e=Object.values(o);this.images=e}}))},openImage(e){this.selectedImage={path:e}},closeModal(){this.selectedImage=null},async submitFile(){const e=this.$refs.file,o=this.$refs.caption.value,n=e.files[0];if(n){const e=(0,Ce.cF)(),a=(0,Ce.iH)(e,"gallery/"+this.selectedOption+"/"+n.name);try{const e=await(0,Ce.KV)(a,n),t=await(0,Ce.Jt)(e.ref);this.images.push({path:t,caption:o});const i=(0,Be.N8)(),r=(0,Be.iH)(i,"picData/"+this.selectedOption),l=(0,Be.VF)(r);console.log(o),(0,Be.t8)(l,{path:t,caption:o}),console.log("File uploaded successfully!")}catch(t){console.error("Error uploading file:",t)}}}}};const Ge=(0,r.Z)(Ve,[["render",Ie]]);var We=Ge,je={name:"GalleryView",components:{HeaderBar:Z,PageFooter:q,Gallery:We}};const Pe=(0,r.Z)(je,[["render",ce]]);var $e=Pe;function Ze(e,o,n,t,i,r){const l=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(s)],64)}var Ue={name:"PublicationsView",components:{HeaderBar:Z,PageFooter:q}};const Me=(0,r.Z)(Ue,[["render",Ze]]);var Te=Me;function Ye(e,o,n,t,i,r){const l=(0,a.up)("HeaderBar"),s=(0,a.up)("PageFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(s)],64)}var xe={name:"BioView",components:{HeaderBar:Z,PageFooter:q}};const qe=(0,r.Z)(xe,[["render",Ye]]);var Ke=qe;const Ne=[{path:"/",name:"home",component:z},{path:"/login",name:"login",component:se},{path:"/gallery",name:"gallery",component:$e},{path:"/publications",name:"publications",component:Te},{path:"/bio",name:"bio",component:Ke}],ze=(0,u.p7)({history:(0,u.r5)(),routes:Ne});ze.beforeEach((function(){const e=(0,V.v0)();(0,V.Aj)(e,(e=>{e?(console.log("IN"),console.log(e.email),Je.dispatch("logIn")):(console.log("OUT"),Je.dispatch("logOut"))}))}));var Ee=ze,Se=n(65),Ae=n(7795);const Je=(0,Se.MT)({state(){return{isLogged:!1}},mutations:{login(e){e.isLogged=!0},logout(e){e.isLogged=!1}},getters:{isLogged(e){return e.isLogged}},actions:{logIn(e){e.commit("login")},logOut(e){e.commit("logout")}}}),Re={apiKey:"AIzaSyAjdnYQIhHawLRWsFjyfvb28Nv3r65DeJ0",authDomain:"gennady-website.firebaseapp.com",databaseURL:"https://gennady-website-default-rtdb.europe-west1.firebasedatabase.app",projectId:"gennady-website",storageBucket:"gennady-website.appspot.com",messagingSenderId:"850191528241",appId:"1:850191528241:web:ede7443e5802f1432a8010",measurementId:"G-K0BNTHKX3D"};(0,Ae.ZF)(Re);const Qe=(0,t.ri)(c);Qe.use(Ee),Qe.use(Je),Qe.mount("#app")}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(o,t,a,i){if(!t){var r=1/0;for(u=0;u<e.length;u++){t=e[u][0],a=e[u][1],i=e[u][2];for(var l=!0,s=0;s<t.length;s++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](t[s])}))?t.splice(s--,1):(l=!1,i<r&&(r=i));if(l){e.splice(u--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[t,a,i]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var a,i,r=t[0],l=t[1],s=t[2],c=0;if(r.some((function(o){return 0!==e[o]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(o&&o(t);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},t=self["webpackChunkportfolio"]=self["webpackChunkportfolio"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(5751)}));t=n.O(t)})();
//# sourceMappingURL=app.8ea24377.js.map